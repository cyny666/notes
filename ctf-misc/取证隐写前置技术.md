任何要求检查一个静态数据文件从而获取隐藏信息的都可以认为是隐写取证题，一些低分的隐写取证又常常与古典密码学结合在一起，而高分的题目则通常用与一些较为复杂的现代密码学知识结合在一起。

### 前置技能

* 了解常见的编码
* 能够利用脚本语言去操作二进制数据
* 熟知常见文件的文件格式，尤其是各类文件头、协议、结构等

### Python操作二进制数据

#### stuct模块

有的时候用python处理二进制数据，比如，存取文件，socket操作时。这时候，可以使用Python的struct模块来完成。

struct模块中最重要的三个函数是pack()、unpack()和calcsize()

* pack(fmt,v1,v2,....) 按照给定的格式(fmt),把数据封装成字符串（实际上是类似于c结构体的字节流）
* unpack(fmt,string)按照给定的格式(fmt)解析字节流string,返回解析出来的tuple
* calcsize(fmt)计算给定的格式(fmt)占用多少字节的内存

struct.pack('>I',16)

pack的第一个参数是处理指令，'>I'的意思是:>表示字节顺序是Big-Endian，也就是网络序，I表示4字节无符号整数。

后面的参数个数要和处理指令一致。

读入一个BMP文件的前30字节，文件头的结构按顺序如下

* 两个字节：BM表示Windows位图，BA表示OS/2位图
* 一个4字节整数：表示位图大小
* 一个4字节整数：保留位，始终为0
* 一个4字节整数：实际图像的偏移量
* 一个4字节整数：Header的字节数
* 一个4字节整数：图像宽度
* 一个4字节整数：图像高度
* 一个2字节整数：始终为1
* 一个2字节整数：颜色数

### bytearryay字节数组

将文件以二进制数组形式读取

```python
data = bytearray(open('challenge.png','rb').read())
```

字节数组就是可变版本的字节

```python
data[0] = '\x89'
```

### file命令

file命令根据文件头(魔法字节)去识别一个文件的文件类型

### strings命令

打印文件中可打印的字符，经常用来发现文件中的一些提示信息或是一些特殊的编码信息，常常用来发现题目的突破口

* 可以配合grep命令探测指定信息

  ```shell
  strings test|grep -i XXCTF
  ```

* 也可以配合-o参数获取所有ASCII字符偏移

### binwalk命令

binwalk本是一个固件的分析工具，比赛中常用来发现多个文件粘合再一起的情况。根据文件头去识别一个文件中夹杂的其他文件，有时也会存在误报率

配合-e参数可以进行自动化提取

也可以结合dd命令进行手动切割

